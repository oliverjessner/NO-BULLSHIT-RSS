<!doctype html>
<html lang="de">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>No Bullshit RSS</title>
        <link rel="icon" href="/images/logo_small.png" />
        <link rel="stylesheet" href="/styles.css" />
    </head>
    <body>
        <header class="topbar">
            <div class="brand">
                <img class="brand-logo" src="/images/logo_small.png" alt="No Bullshit RSS" />
            </div>
            <div class="brand">No Bullshit RSS</div>

            <nav class="nav">
                <button class="nav-link is-active" data-view="main">Main</button>
                <button class="nav-link" data-view="settings">Settings</button>
            </nav>
        </header>

        <main class="container">
            <section id="view-main" class="view is-active">
                <div class="toolbar">
                    <div class="toolbar-actions">
                        <button id="refresh-articles" class="btn">refresh</button>
                        <input id="search-input" class="search-input" type="search" placeholder="Search…" />

                        <button id="toggle-layout" class="btn toggle" data-layout="cards" aria-pressed="false">
                            <span class="toggle-track"></span>
                            <span class="toggle-label">Cards</span>
                        </button>
                        <select id="filter-list" class="select">
                            <option value="">all lists</option>
                        </select>
                        <select id="filter-source" class="select">
                            <option value="">all sources</option>
                        </select>

                        <button id="run-fetch" class="btn ghost">refetch</button>
                    </div>
                </div>
                <div id="loading-row" class="loading-row">
                    <span class="spinner" aria-hidden="true"></span>
                </div>
                <div class="articles-scroll">
                    <h2 id="articles-state" class="state">Lädt…</h2>
                    <div id="articles-list" class="cards"></div>
                </div>
            </section>

            <section id="view-settings" class="view view-settings">
                <div class="settings-tabs">
                    <button class="settings-tab is-active" data-settings="feeds" type="button">Feeds</button>
                    <button class="settings-tab" data-settings="lists" type="button">Lists</button>
                </div>

                <div id="settings-feeds" class="settings-panel is-active">
                    <form id="feed-form" class="card form">
                        <div class="form-row">
                            <label>Name</label>
                            <input type="text" id="feed-name" placeholder="z. B. techcrunch" required />
                        </div>
                        <div class="form-row">
                            <label>Website URL</label>
                            <input type="url" id="feed-website" placeholder="https://example.com" required />
                        </div>
                        <div class="form-row">
                            <label>Feed URL</label>
                            <input type="url" id="feed-url" placeholder="https://example.com/feed.xml" required />
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn primary" id="feed-submit">store feed</button>
                            <button type="button" class="btn ghost" id="feed-cancel">cancel</button>
                            <button type="button" class="btn" id="feed-test">test feed</button>
                        </div>
                        <div id="feed-form-status" class="form-status"></div>
                    </form>

                    <div id="fetch-status" class="status-line">Letzter Fetch: —</div>
                    <div id="feeds-state" class="state">Lädt…</div>
                    <div id="feeds-list" class="list"></div>
                </div>

                <div id="settings-lists" class="settings-panel">
                    <form id="list-form" class="card form">
                        <div class="form-row">
                            <label>Name</label>
                            <input type="text" id="list-name" placeholder="e. g. Readinglist" required />
                        </div>
                        <div class="form-row">
                            <label>Description</label>
                            <input type="text" id="list-description" placeholder="optional" />
                        </div>
                        <div class="form-row">
                            <label>Color</label>
                            <input type="color" class="color-picker" id="list-color" value="#1d1d1f" />
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn primary" id="list-submit">save list</button>
                            <button type="button" class="btn ghost" id="list-cancel">cancel</button>
                        </div>
                        <div id="list-form-status" class="form-status"></div>
                    </form>

                    <div id="lists-state" class="state">Lädt…</div>
                    <div id="lists-list" class="list"></div>
                </div>

                <footer class="settings-footer">
                    <span>Copyright Oliver Jessner</span>
                    <a href="https://oliverjessner.at" target="_blank" rel="noopener noreferrer">oliverjessner.at</a>
                </footer>
            </section>
        </main>

        <template id="article-card-template">
            <article class="card">
                <div class="meta">
                    <span class="meta-date"></span>
                    <span class="meta-source">
                        <span class="source-name"></span>
                        <img class="source-logo" alt="" />
                    </span>
                </div>
                <div class="content">
                    <h3 class="title"></h3>
                    <p class="teaser"></p>
                </div>
                <div class="actions">
                    <a class="link" target="_blank" rel="noopener noreferrer">Zum Artikel</a>
                    <button class="btn ghost btn-add" type="button">+</button>
                </div>
            </article>
        </template>

        <template id="list-item-template">
            <div class="list-item">
                <div>
                    <div class="list-title">
                        <span class="list-color-dot"></span>
                        <span class="list-name"></span>
                    </div>
                    <div class="list-meta"></div>
                </div>
                <div class="list-actions">
                    <button class="btn ghost btn-edit">Bearbeiten</button>
                    <button class="btn danger btn-delete">Löschen</button>
                </div>
            </div>
        </template>

        <div id="modal-backdrop" class="modal-backdrop" aria-hidden="true">
            <div class="modal">
                <div class="modal-header">
                    <div class="modal-title">Zu Liste hinzufügen</div>
                    <button class="btn ghost" id="modal-close" type="button">✕</button>
                </div>
                <div class="modal-body">
                    <label for="modal-list-select">Liste auswählen</label>
                    <select id="modal-list-select" class="select"></select>
                    <div class="modal-existing">
                        <div class="modal-existing-title">Bereits in:</div>
                        <div id="modal-existing-lists" class="modal-existing-list">—</div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn ghost" id="modal-cancel" type="button">Abbrechen</button>
                    <button class="btn primary" id="modal-confirm" type="button">Hinzufügen</button>
                </div>
            </div>
        </div>

        <template id="feed-item-template">
            <div class="list-item">
                <div>
                    <div class="list-title">
                        <img class="feed-logo" alt="" />
                        <span class="feed-name"></span>
                    </div>
                    <div class="list-meta"></div>
                </div>
                <div class="list-actions">
                    <button class="btn ghost btn-edit">Bearbeiten</button>
                    <button class="btn danger btn-delete">Löschen</button>
                </div>
            </div>
        </template>

        <script src="/app.js" type="module"></script>
    </body>
</html>
